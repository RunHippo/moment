<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>桑吉图</title>
</head>

<body>
  <div id="sankey" style="width: 100%;height: 500px;"></div>
  <script src="./echarts.min.js"></script>
  <script>
    var myChart = echarts.init(document.getElementById('sankey'));
    var resData = {
      "nodes": [{
          "name": "门诊"
        },
        {
          "name": "住院"
        },
        {
          "name": "综合医院"
        },
        {
          "name": "中医医院"
        },
        {
          "name": "专科医院"
        },
        {
          "name": "基层"
        },
        {
          "name": "总费用"
        }
      ],
      "links": [{
          "target": "综合医院",
          "source": "门诊",
          "value": 2690.41 + 2879.9 + 3617.41
        },
        {
          "target": "中医医院",
          "source": "门诊",
          "value": 73.87 + 83.85 + 103.88
        },
        {
          "target": "专科医院",
          "source": "门诊",
          "value": 1737.05 + 3402.62 + 2779.73
        },
        {
          "target": "基层",
          "source": "门诊",
          "value": 0 + 13.83 + 24.29
        },

        {
          "target": "综合医院",
          "source": "住院",
          "value": 3476.37 + 5552.69 + 5908.26
        },
        {
          "target": "中医医院",
          "source": "住院",
          "value": 864.79 + 1219.19 + 1313.91
        },
        {
          "target": "专科医院",
          "source": "住院",
          "value": 14171.87 + 13207.12 + 14864.01
        },
        {
          "target": "基层",
          "source": "住院",
          "value": 136.27 + 141.31 + 265.34
        },

        {
          "source": "综合医院",
          "target": "总费用",
          "value": 2690.41 + 2879.9 + 3617.41 + 3476.37 + 5552.69 + 5908.26
        },
        {
          "source": "中医医院",
          "target": "总费用",
          "value": 73.87 + 83.85 + 103.88 + 864.79 + 1219.19 + 1313.91
        },
        {
          "source": "专科医院",
          "target": "总费用",
          "value": 1737.05 + 3402.62 + 2779.73 + 14171.87 + 13207.12 + 14864.01
        },
        {
          "source": "基层",
          "target": "总费用",
          "value": 0 + 13.83 + 24.29 + 136.27 + 141.31 + 265.34
        }
      ]
    };

    myChart.setOption({
      title: {
        text: 'Sankey'
      },
      tooltip: {
        trigger: 'item',
        triggerOn: 'mousemove'
      },
      series: [{
        type: 'sankey',
        data: resData.nodes,
        links: resData.links,
        focusNodeAdjacency: 'allEdges',
        itemStyle: {
          normal: {
            borderWidth: 1,
            borderColor: '#aaa'
          }
        },
        lineStyle: {
          normal: {
            color: 'source',
            curveness: 0.5
          }
        }
      }]
    });
  </script>
</body>

</html>